extends layout
block authenticationStyle
block errorStyle
block content
block cPanel
  .container
    .row
      .col-md-10
        .btn-group.btn-breadcrumb
          a.btn.btn-default(href="/cPanel")
            i.glyphicon.glyphicon-home
          .btn.btn-default.active عرض المواد الدراسية
        br
        br
        .panel.panel-default
          .panel-heading
            .row
              .pull-right(style="margin-right: 10px;")
                h3#h3.panel-title عرض المواد الدراسية
              .col-xs-6.col-md-6
                .input-group
                  input.form-control(type='text', placeholder='بحث...')
                  .input-group-btn
                    button.btn.btn-default
                      i.glyphicon.glyphicon-search
              .pull-left(style="margin-left: 10px;")
                a.btn.btn-success(href='/subject/newSubject', role='button',data-toggle='modal')
                  span.glyphicon.glyphicon-plus
                  span.text-none  إضافة مادة دراسية
              .pull-left(style="margin-left: 10px;")
                a.btn.btn-primary(href='#', role='button',data-toggle='modal')
                  span.glyphicon.glyphicon-print
                  span.text-none  طباعة
          .table-responsive
            table#mytable.table.table-bordred.table-striped.text-right
              thead
                th
                  input#checkall(type="checkbox")
                th أسم المادة
                th Subject name
                th رمز المادة
                th عدد الوحدات النظري
                th عدد الساعات العملي
                th.text-center عرض
                th.text-center تعديل
                th.text-center إلغاء
              tbody
          
              for i in Sub
                tr(data-id = '#{i.id}')
                  td
                    input.checkthis(type="checkbox")
                  td #{i.name}
                  td #{i.name_en}
                  td #{i.code}
                  td #{i.no_th_unit}
                  td #{i.no_th_hour}
                  td.text-center
                    p(data-placement="top", data-toggle="tooltip", title="عرض")
                      button#sh.btn.btn-primary.btn-xs(value="#{i.id}",data-title="Edit", data-toggle="modal", data-target="#show")
                        span.glyphicon.glyphicon-eye-open
                  td.text-center
                    p(data-placement="top", data-toggle="tooltip", title="تعديل")
                      button#ed.btn.btn-primary.btn-xs(value="#{i.id}",data-title="Edit", data-toggle="modal", data-target="#edit")
                        span.glyphicon.glyphicon-pencil
                  td.text-center
                    p(data-placement="top", data-toggle="tooltip", title="إلغاء")
                      button#del.btn.btn-danger.btn-xs(value="#{i.id}",data-title="Delete", data-toggle="modal", data-target="#delete")
                        span.glyphicon.glyphicon-trash
        if pagination
          .text-center
            ul.pagination
              li(class='#{pagination.previous.disabled}')
                a(href='?p=#{pagination.previous.n.}') السابق
              for page in pagination.pages
                li(class="#{page.active}")
                  a(href='?p=#{page.n}') #{page.n}
              li(class="#{pagination.next.disabled}")
                a(href='?p=#{pagination.next.n}') التالي
  #show.modal.fade.font(tabindex="-1", role="dialog", aria-labelledby="edit", aria-hidden="true")
    .modal-dialog.modal-lg
      .modal-content
        .modal-header
          button.close(type="button", data-dismiss="modal", aria-hidden="true")
            span.glyphicon.glyphicon-remove(aria-hidden="true")
          h4#Heading.modal-title.custom_align عرض بيانات المادة
        .modal-body
          form.form(action="", method="post", accept-charset="utf-8", role="form")
            .form-group
              .row
                .col-xs-3.col-md-3
                  label
                    span  عدد الوحدات العملي
                  input#no_pr_unit.form-control(type="text", name="first_name", placeholder="عدد الوحدات العملي", disabled)
                .col-xs-3.col-md-3
                  label
                    span  عدد ساعات العملي
                  input#no_pr_hour.form-control(type="text", name="father_name", placeholder="عدد ساعات العملي", disabled)
                .col-xs-3.col-md-3
                  label
                    span  درجات امتحانات النصفيات
                  input#chapter_degree.form-control(type="text", name="grand_name", placeholder="درجات امتحانات النصفيات", disabled)
                .col-xs-3.col-md-3
                  label
                    span  الدرجة النهائية
                  input#final_theor.form-control(type="text", name="last_name", placeholder="الدرجة النهائية", disabled)
            .form-group
              .row
                .col-xs-3.col-md-3
                  label
                    span  درجة العملي
                  input#final_practical.form-control(type="text", name="first_name", placeholder="درجة العملي", disabled)
                .col-xs-3.col-md-3
                  label
                    span  sub Type
                  input#sub_Type.form-control(type="text", name="father_name", placeholder="sub Type", disabled)
                .col-xs-3.col-md-3
                  label
                    span  subject_type
                  input#subject_type.form-control(type="text", name="grand_name", placeholder="subject_type", disabled)
                .col-xs-3.col-md-3
                  label
                    span  System Type
                  input#System_Type.form-control(type="text", name="last_name", placeholder="System Type", disabled)
            .form-group
              .row
                .col-xs-3.col-md-3
                  label
                    span  اسم القسم
                  input#department.form-control(type="text", name="first_name", placeholder="اسم القسم", disabled)
                .col-xs-3.col-md-3
                  label
                    span  إســم المستخدم
                  input#user.form-control(type="text", name="father_name", placeholder="إســم المستخدم", disabled)

        .modal-footer
          button.btn.btn-warning.btn-lg(type="button", style="margin-left:25%;width:50%;", data-dismiss="modal")
            span.glyphicon.glyphicon-eye-close
            |  إخفاء
      // /.modal-content
    // /.modal-dialog
  #edit.modal.fade.font(tabindex="-1", role="dialog", aria-labelledby="edit", aria-hidden="true")
    .modal-dialog.modal-lg
      .modal-content
        form#updateSubject(action="/subject/editSubject", method="post", accept-charset="utf-8", role="form")
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true")
              span.glyphicon.glyphicon-remove(aria-hidden="true")
            h4#Heading.modal-title.custom_align تعديل المادة
          .modal-body
            // Nav tabs
            ul.nav.nav-tabs(role="tablist")
              li.active(role="presentation")
                a(href="#tabOne", aria-controls="tabOne", role="tab", data-toggle="tab")  بيانات المادة
              li(role="presentation")
                a(href="#tabTow", aria-controls="tabTow", role="tab", data-toggle="tab")  المواد التمهدية
            // Tab panes
            .tab-content
              #tabOne.tab-pane.active(role="tabpanel")
                br
                .form-group
                  .row

                    input#id.form-control(type="hidden",name="id")
                    .col-xs-3.col-md-3
                      label
                        span  اسم المادة
                      input#name.form-control(type="text", name="name", placeholder="اسم المادة")
                    .col-xs-3.col-md-3
                      label
                        span  Subject Name
                      input#name_en.form-control(type="text", name="name_en", placeholder="اسم اﻷب")
                    .col-xs-3.col-md-3
                      label
                        span  رمز المادة
                      input#code.form-control(type="text", name="code", placeholder="اسم الجد")
                    .col-xs-3.col-md-3
                      label
                      span  درجة النهائي العملي
                      input#final_practicall.form-control(type="text", name="final_practical", placeholder="اسم الجد")
                                         
                .form-group
                  .row
                    .col-xs-3.col-md-3
                      label
                        span  عدد وحدات النظري
                      input#no_th_unit.form-control(type="text", name="no_th_unit", placeholder="Surname", dir="ltr")
                    .col-xs-3.col-md-3
                      label
                        span  عدد وحدات العملي
                      input#no_prr_unit.form-control(type="text", name="no_pr_unit", placeholder="Grandfather name", dir="ltr")
                    .col-xs-3.col-md-3
                      label
                        span  عدد ساعات النظري
                      input#no_th_hour.form-control(type="text", name="no_th_hour", placeholder="Father name", dir="ltr")
                    .col-xs-3.col-md-3
                      label
                        span  عدد ساعات العملي
                      input#no_prr_hour.form-control(type="text", name="no_pr_hour", placeholder="Student name", dir="ltr")
                .form-group
                  .row
                    .col-xs-3.col-md-3
                      label
                        span  اعمال السنة
                      input#chapter_degre.form-control(type="text", name="chapter_degree", placeholder="اسم الطالب/ة")
                    .col-xs-3.col-md-3
                      label
                        span  درجة النهائي النظري
                      input#final_theorr.form-control(type="text", name="final_theor", placeholder="اسم اﻷب")

                    .col-xs-3.col-md-3
                      #department_radio 
                        label تندرج تحت قسم
                        br
                        label.radio-inline
                          input#js_radio.radio_js(type='radio',value="1" ,name="subject_type")
                          | عامة
                        label.radio-inline
                          input#radio.radioo(type='radio',value="2" ,name="subject_type")
                          | خاصة
                        label.radio-inline
                          input#radioo.radiooo(type='radio',value="3" ,name="subject_type")
                          | كلاهما
                      #department_select
                        label تندرج تحت قسم
                        select#department_iddepartment.form-control.selectpicker(name="DepartmentId", data-live-search="true", data-size=5)
                          option(value="", style='color:grey; display:none;') اختر اسم القسم...
                          for l in dep
                            option(value="#{l.id}", style='color:grey; ') #{l.name} 
                           
               #tabTow.tab-pane(role="tabpanel")
                br
                .form-group
                  .row
                    .col-xs-3.col-md-3
                      label
                        span  المواد التمهيدية
                      select.form-control.selectpicker#subject_id(name="SubjectId", data-live-search="true", data-size=5)
                        option(value="", style='color:grey; display:none;') اختر اسم المواد...
                    .col-xs-5.col-md-5
                      table#mytable.table.table-bordered
                        thead
                          tr
                            th
                              input#checkall(type="checkbox")
                            th.text-center المواد التمهيدية
                        tbody
                          tr
                            td
                              input.checkthis(type="checkbox")
                            td.text-center رياضة 
                            td.text-center
                              p(data-placement="top", data-toggle="tooltip", title="إلغاء")
                                button.btn.btn-danger.btn-xs(value="",data-title="Delete", data-toggle="modal")
                                  span.glyphicon.glyphicon-trash 
                          
          .modal-footer
            button.btn.btn-warning.btn-lg(type="submit", style="margin-left:25%;width:50%;")
              span.glyphicon.glyphicon-ok-sign
              |  تعديل
  #delete.modal.fade.font(tabindex="-1", role="dialog", aria-labelledby="edit", aria-hidden="true")
    .modal-dialog
      .modal-content
        .modal-header
          button.close(type="button", data-dismiss="modal", aria-hidden="true")
            span.glyphicon.glyphicon-remove(aria-hidden="true")
          h4#Heading.modal-title.custom_align إلغاء مادة دراسية محددة
        .modal-body
          .alert.alert-danger
            span.glyphicon.glyphicon-warning-sign
            |  هل انت متأكد من إلغاء هذه المادة ؟
        .modal-footer
          button#ok.btn.btn-success(type="button", data-dismiss="modal")
            span.glyphicon.glyphicon-ok-sign
            |  نعم
          button.btn.btn-default(type="button", data-dismiss="modal")
            span.glyphicon.glyphicon-remove
            |  لا
      // /.modal-content
    // /.modal-dialog
  script(src='/js/jquery-2.1.1.min.js')
  script(src='/js/bootstrap.min.js')
  script(src='/js/jquery.validate.min.js')
  script(src='/js/bootstrap-select.min.js') 
  script(src='/js/jquery.validate.min.js')
  script(src='/js/bootstrap-notify.min.js')
  script(src='/js/newSubject.js') 
  script(src='/js/backToTop.js')
  script.
    $(document).ready(function(){
      $("#mytable #checkall").click(function () {
        if ($("#mytable #checkall").is(':checked')) {
            $("#mytable input[type=checkbox]").each(function () {
              $(this).prop("checked", true);
            });
        } else {
            $("#mytable input[type=checkbox]").each(function () {
                $(this).prop("checked", false);
            });
          }
      });
        $("[data-toggle=tooltip]").tooltip();
    });